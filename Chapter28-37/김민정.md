# 모던 자바스크립트 딥다이브 스터디 6회

## 목차

- 28장: Number
- 29장: Math
- 30장: Date
- 31장: RegExp
- 32장: String
- 33장: 7번째 데이터 타입 Symbol
- 34장: 이터러블
- 35장: 스프레드 문법
- 36장: 디스트럭처링 할당
- 37장: Set과 Map

## 질문

### 36장

- 유사 배열 객체는 스프레드 연산자 적용이 안되고, 일반 객체는 되는 것인가?

### 37장

- Map은 중복된 키를 갖는 요소가 존재하면 갚이 덮어써지는데, 객체는 어떠한가?

## 28장: Number

### 28.1 Number 생성자 함수

- Number 객체: 생성자 함수 객체
  - new 연산자와 함께 호출하면 [[NumberData]] 내부 슬롯에 값을 할당한 Number 래퍼 객체 생성
  - 할당한 값을 숫자로 강제 변환

### 28.2 Number 프로퍼티

- 큰 값
  - MAX_VALUE
  - MAX_SAFE_INTEGER
- 작은 값
  - MIN_VALUE
  - MIN_SAFE_INTEGER

### 28.3 Number 메서드

- 빌트인 전역 함수: 암묵적 타입 변환O
- Number: 암묵적 타입 변환X

## 29장: Math

### 29.2 Math 메서드

- round: 반올림
- ceil: 올림
- floor: 내림
- max: 전달 받은 인수 중 가장 큰 수 반환
  - Math.max()인 경우, -Infinity 반환
- min: 전달 받은 인수 중 가장 작은 수 반환
  - Math.min()인 경우, Infinity 반환

## 30장: Date

### 30.1 Date 생성자 함수

- new Date(밀리초): 기준일 기점으로 밀리초만큼 경과한 날짜 와 시간 나타내는 Date 객체 반환
- new Date(날짜 문자열), new Date(날짜)
  - month가 0-11임에 유의

### 30.2 Date 메서드

- UTC: 기준일 기점으로 인수로 전달된 시간까지 밀리초 숫자로 반환
- year
  - getFullYear
  - setFullYear
- month
  - getMonth
  - setMonth
- date
  - getDate
  - setDate
- 요일
  - getDay
  - setDay
  - day가 0-6일이며, 일요일부터 시작함에 유의
- Date 객체 반환
  - toDateString
  - toTimeString
  - toISOString

## 31장: RegExp

### 31.2 정규 표현식의 생성

- 정규 표현식 객체
  - 정규 표현식 리터럴
  - RegExp 생성자 함수

### 31.3 RegExp 메서드

- exec: 첫 번째 매칭 결과를 배열로 반환
- match: 모든 매칭 결과를 배열로 반환
- test: 매칭 결과를 불리언으로 반환

### 31.4 플래그

- i: 대소문자 구별X
- g: 대상 문자열 내에서 모든 문자열을 전역으로 검색
- m: 행이 바뀌어도 검색

### 31.5 패턴

- 기본: /로 열고 닫으며, 따옴표 생략
- .: 임의의 문자 한 개
- {m, n}: 최소 m번, 최대 n번
- ?: 앞에 있는 패턴이 없어도 괜찮음
- []: 내부에 있는 것들은 or로 동작
- ^
  - [] 내부에서 not으로 동작
  - []외부에서 문자열 시작
- $: 문자열 마지막
- 단축 표현
  - \d: 숫자
  - \D: 문자
  - \w(소): 알파벳, 숫자, 언더스코어
  - \W(대): 알파벳, 숫자, 언더스코어가 아닌 문자
  - \s: 여러 가지 공백 문자

## 32장: String

### 32.1 String 생성자 함수

- String 객체: 생성자 함수 객체
  - new 연산자와 함께 호출하면 [[StringData]] 내부 슬롯에 값을 할당한 String 래퍼 객체 생성
  - 할당한 값을 문자로 강제 변환

### 32.3 String 메서드

- 시작, 끝 확인
  - startsWith: 대상 문자열이 인수로 전달받은 문자열로 시작하는지 확인
    - 두 번째 인수: 검색 시작할 인덱스
  - endsWith: 대상 문자열이 인수로 전달받은 문자열로 끝나는지 확인
    - 두 번째 인수: 처음에서부터 검색할 문자열의 길이
- 문자열 자르기
  - substring
    - 양수인 인자만 전달 가능
  - slice
    - 음수인 인자 전달 가능
- charAt: 대상 문자열에서 인수로 전달받은 인덱스에 위치한 문자 검색
  - 유사한 메서드
    - String.prototype.charCodeAt
    - String.prototype.codePointAt
- replace
  - 첫 번째 인수로 전달 받은 문자열 또는 정규 표현식 검색해 두 번째 인수로 전달한 문자열로 치환
  - 특수 교체 패턴 사용 가능
    - $&은 검색된 문자열을 의미
    ```jsx
    "Hello World".replace("world", "<strong>$&</strong>");
    ```
- split
  - 인수로 빈 문자열 전달하면 각 문자 모두 분리
  - 두 번째 인수로 배열의 길이 지정 가능

## 33장: 7번째 데이터 타입 Symbol

### 33.2 심벌 값의 생성

- 다른 원시값: 리터럴 표기법 통해 값 생성 가능
- Symbol: Symbol 함수 호출하여 생성 필요
  - 다른 값과 중복되지 않는 유일한 값
  - 암묵적으로 문자열 또는 숫자 타입으로 변환되지 않음
  - 불리언 타입으로 암묵적으로 변환됨!
- Symbol VS Symbol.for
  - Symbol: 전역 심벌 저장소에 등록되어 관리되지 않음
  - Symbol.for: 전역 심벌 저장소에 등록되어 공유됨
    - 키로 저장된 심벌이 없다면 생성
    - 키로 저장된 심벌이 있다면 해당 값 반환
    - Symbol.keyFor: 전역 심벌 저장소에 저장된 심벌 값의 키를 추출할 수 있음

### 33.4 심벌과 프로퍼티 키

- 심벌 값을 프로퍼티 키로 사용하기 위해선 대괄호 사용 필요
  ```jsx
  obj[Symbol.for("mySymbol")];
  ```

### 33.6 심벌과 표준 빌트인 객체 확장

- 심벌 값을 이용하면 어떤 프로퍼티 키와도 충돌할 위험이 없어 안전하게 표준 빌트인 객체를 화장할 수 있음

### 33.7 Well-Known Symbol

- 자바스크립트가 기본 제공하는 빌트인 값
- 예시: Symbol.iterator
  - 가장 대표적으로 이터레이터를 반환하고 이터러블의 기준이되게 하는Symbol.iterator
  - [Symbol.iterator] 를 프로퍼티 키로 사용한 메서드를 상속받았거나 직접 구현된 객체를 이터러블이라고 함
  - 이터러블은 for...of, 스프레드 연산자, 배열 디스트럭쳐링 할당 등에서 이터러블을 이용해 이터러블의 값을 순회하기 전 Symbol.iterator메서드를 호출하여 이터레이터를 반환하고, 이 이터레이터가 이터레이터 리절트 객체 { value, done } 를 반환하여 이터러블 요소를 탐색하기 위한 포인터 역할
  - [설명 출처](https://velog.io/@sosoyim/Well-known-Symbol)

## 34장: 이터러블

### 34.1 이터레이션 프로토콜

- ES6 이전: 다양한 방법으로 순회
- ES6: 순회 가능한 데이터 컬렉션을 이터레이션 프로토콜 준수하는 이터러블로 통일
- 이터레이션 프로토콜
  - 이터러블 프로토콜
  - 이터레이터 프로토콜
- 이터러블: Symbol.iterator를 프로퍼티 키로 사용한 메서드를 직접 구현하거나 프로토타입 체인을 통해 상속받은 객체
- 이터레이터: 이터러블의 Symbol.iterator를 호출하면 이터레이터 프로토콜을 준수한 이터레이터를 반환
  - 이터레이터는 next 메서드 가짐
  - next 메서드는 이터러블의 각 요소를 순회하기 위한 포인터 역할
  - next 메서드를 호출하면 이터러블을 순차적으로 한 단계씩 순회하며, 순회 결과인 이터레이터 리저트 객체를 반환
    - {value:A, done:false} ⇒ {value:B, done:true}

### 34.2 빌트인 이터러블

- 표준 빌트인 객체는 빌트인 이터러블임
  - Array, String, Map, Set, TypedArray, arguments, DOM

### 34.4 이터러블과 유사 배열 객체

- 유사 배열 객체는 이터러블이 아닌 일반 객체임
  - Symbol.iterator가 없기에 for…of문으로 순회 불가능!

### 34.5 이터레이션 프로토콜의 필요성

- ES6에 순회 가능한 뎅터 컬렉션을 이터레이션 프로토콜을 준수하는 이터러블로 통일하여, for…of문, 스프레드 문법, 배열 디스트럭처링 할당의 대상으로 사용할 수 있도록 일원화함
  - 데이터 공급자가 각자의 순회 방식을 가지면, 데이터 소비자는 공급자의 모든 순회 방식 지원이 필요함
  - 데이터 공급자가 이터레이션 프로토콜을 준수하도록 규정하면, 데이터 소비자는 이터레이션 프로토콜만 지원하도록 구현하면 됨! ⇒ 하나의 순회 방식
- 데이터 소비자
  - 내부에서 Symbol.iterator 메서드 호출하여 이터레이터 생성
  - 이터레이터 next 메서드 호출해 이터러블 순회하며 이터레이터 리절트 객체 반환
  - 이터레이터 리절트 객체의 value, done 프로퍼티 값 취득

### 34.6 사용자 정의 이터러블

- 지연평가
  - 이터러블은 지연평가를 통해 데이터 생성
  - 평가 결과가 필요할 때까지 평가를 늦추는 방법
  - next 메서드가 호출되기 이전까지 데이터를 생성하지 않음
  - 빠른 실행 속도를 기대할 수 있음

## 35장: 스프레드 문법

- 스프레드 문법: 하나로 뭉쳐 있는 여러 값들의 집합을 펼쳐서 개별적인 값들의 목록으로 만든다
  - 가능: 이터러블
  - 불가능: 일반 객체
  - 반환값: 값들의 목록이기에, 변수에 할당 불가능

### 35.1 함수 호출문의 인수 목록에서 사용하는 경우

- Rest 파라미터 VS 스프레드 문법
  - Rest 파라미터: 함수에 전달된 인수들의 목록을 배열로 전달받기 위해 사용
  - 스프레드 문법: 개별적 값들의 목록으로 만드는 것

### 35.2 배열 리터럴 내부에서 사용하는 경우

- 이터러블을 배열로 변환
  ```jsx
  function sum() {
    return [...arguments].reduce((pre, cur) => pre + cur, 0);
  }
  ```
  - 하지만 Rest 파라미터가 더 낫다
  ```jsx
  const sum = (...args) => args.reduce((pre, cur) => pre + cur, 0);
  ```

### 35.3 객체 리터럴 내부에서 사용하는 경우

- 일반 객체 대상으로 스프레드 문법 사용을 허용함

## 36장: 디스트럭처링 할당

- 디스트럭처링 할당: 구조화된 배열과 같은 이터러블 또는 객체를 구조 파괴하여 1개 이상 변수에 개별적으로 할당하는 것

### 36.1 배열 디스트럭처링 할당

- 변수의 개수와 이터러블 요소 개수가 반드시 일치할 필요는 없음
- 변수에 기본값 설정 가능
- 변수에 기본값보다 할당된 값이 우선임

### 63.2 객체 디스트럭처링 할당

- 할당 기준은 프로퍼티 키임
- 선언된 변수 이름과 프로퍼티 키가 일치하면 할당됨
- 예시
  - length 프로퍼티 추출
    - String 래퍼 객체로부터 length 프로퍼티만 추출
    ```jsx
    const str = "Hello";
    const { length } = str;
    ```
- 배열 디스트럭처링+객체 디스트럭처링
  ```jsx
  const todos = [{ id: 1 }, { id: 2 }];
  const [, { id }] = todos;
  console.log(id); //2
  ```

## 37장: Set과 Map

### 37.1 Set

- Set: 중복되지 않는 유일한 값들의 집합
  - size
  - has
  - add: 추가된 Set 객체를 반환하여, 연속 호출 가능
  - delete: 삭제 성공 여부를 나타내는 불리언 반환하여, 연속 호출 불가능
  - clear: 일괄 삭제
- 요소 순회
  - forEach
    - 첫 번째, 두 번째 인수: 현재 순회 중인 요소값
    - 순회하는 순서는 요소가 추가된 순서

### 37.2 Map

- Map: 키와 값의 쌍으로 이루어진 컬렉션
  - 중복된 키를 갖는 요소가 존재하면 값이 덮어써짐
  - size
  - set: 추가된 Map 객체를 반환하여, 연속 호출 가능
  - get
  - has
  - delete: 삭제 성공 여부를 나타내는 불리언 반환하여, 연속 호출 불가능
  - clear: 일괄 삭제
- 요소 순회
  - forEach
    - 첫 번째 인수: 현재 순회 중인 요소값
    - 두 번째 인수: 현재 순회 중인 요소 키!
  - for…of
    - keys
    - values
    - entries
- Map VS 객체
  - 이터러블
    - Map: O
    - 객체: X
  - key
    - Map: 객체 포함한 모든 값
    - 객체: 문자열 또는 심벌값
